import{o as b,H as d}from"./messenger-client.Bks7hfH7.js";import{F as m,G as h}from"./styles.BcPDAjHV.js";import{b as p}from"./live.CKubG-fH.js";function N(t,e){const i=Array.from(t.entries()).map(([s,o])=>o.status!=="completed"?o:{status:"completed",value:[s,o.value]}),r=b(i);return r.status!=="completed"?r:{status:"completed",value:new d(r.value)}}function a(t){return typeof t=="string"&&t.split(",").length===39?new Uint8Array(t.split(",").map(e=>parseInt(e,10))):t}function u(t){const e=new FormData(t),i={};return e.forEach((r,n)=>{if(Reflect.has(i,n)){const s=i[n];Array.isArray(s)?s.push(a(r)):i[n]=[i[n],a(r)]}else i[n]=a(r)}),i}class g extends h{constructor(){super(...arguments),this.initialized=!1}update(e,i){this.initialized||(this.initialized=!0,e.element.addEventListener("update-form",n=>{this.listener&&e.element.removeEventListener("submit",this.listener),this.listener=s=>{s.preventDefault();const o=u(e.element);i[0](o)},e.element.addEventListener("submit",this.listener)})),setTimeout(()=>{this.listener&&e.element.removeEventListener("submit",this.listener),this.listener=r=>{r.preventDefault();const n=u(e.element);i[0](n)},e.element.addEventListener("submit",this.listener)},100)}render(e){return""}}const O=m(g);p.define("sl-icon-button");var l=new WeakMap;function c(t){let e=l.get(t);return e||(e=window.getComputedStyle(t,null),l.set(t,e)),e}function v(t){if(typeof t.checkVisibility=="function")return t.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const e=c(t);return e.visibility!=="hidden"&&e.display!=="none"}function y(t){const e=c(t),{overflowY:i,overflowX:r}=e;return i==="scroll"||r==="scroll"?!0:i!=="auto"||r!=="auto"?!1:t.scrollHeight>t.clientHeight&&i==="auto"||t.scrollWidth>t.clientWidth&&r==="auto"}function w(t){const e=t.tagName.toLowerCase(),i=Number(t.getAttribute("tabindex"));return t.hasAttribute("tabindex")&&(isNaN(i)||i<=-1)||t.hasAttribute("disabled")||t.closest("[inert]")||e==="input"&&t.getAttribute("type")==="radio"&&!t.hasAttribute("checked")||!v(t)?!1:(e==="audio"||e==="video")&&t.hasAttribute("controls")||t.hasAttribute("tabindex")||t.hasAttribute("contenteditable")&&t.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(e)?!0:y(t)}function C(t){var e,i;const r=E(t),n=(e=r[0])!=null?e:null,s=(i=r[r.length-1])!=null?i:null;return{start:n,end:s}}function A(t,e){var i;return((i=t.getRootNode({composed:!0}))==null?void 0:i.host)!==e}function E(t){const e=new WeakMap,i=[];function r(n){if(n instanceof Element){if(n.hasAttribute("inert")||n.closest("[inert]")||e.has(n))return;e.set(n,!0),!i.includes(n)&&w(n)&&i.push(n),n instanceof HTMLSlotElement&&A(n,t)&&n.assignedElements({flatten:!0}).forEach(s=>{r(s)}),n.shadowRoot!==null&&n.shadowRoot.mode==="open"&&r(n.shadowRoot)}for(const s of n.children)r(s)}return r(t),i.sort((n,s)=>{const o=Number(n.getAttribute("tabindex"))||0;return(Number(s.getAttribute("tabindex"))||0)-o})}export{E as a,C as g,N as j,O as o};
